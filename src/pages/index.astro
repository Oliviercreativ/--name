---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import FAQ from '../components/FAQ.astro';
import WhatAutomation from '../components/WhatAutomation.astro';
import StripeCheckout from '../components/StripeCheckout.astro';
import CRMBenefits from '../components/CRMBenefits.astro';
import MetiersCarousel from '../components/MetiersCarousel.astro';

const title = 'ZestCRM - Votre CRM sur mesure';
const description =
  'Cr√©ez votre CRM personnalis√© en quelques heures. Formation compl√®te et support d√©di√© pour automatiser votre gestion client.';
---

<Layout title={title} description={description}>
  <!-- Hero Section -->
  <section class="py-20 text-white lg:py-32">
    <div class="mx-auto max-w-6xl px-4 sm:px-6">
      <div class="text-center">
        <h1 class="mb-8 text-5xl font-black leading-tight text-cyan-950 lg:text-7xl">
          Cr√©ez votre CRM sur mesure
        </h1>
        <p class="mx-auto mb-12 max-w-3xl text-xl text-cyan-950 text-zest-100">
          Plus besoin de payer des abonnements mensuels. Cr√©ez votre propre CRM adapt√© √† votre
          m√©tier en quelques heures.
        </p>
        <div class="flex flex-col justify-center gap-4 text-cyan-950 sm:flex-row">
          <button
            onclick="bookMeeting()"
            class="rounded-lg bg-white px-8 py-4 text-lg font-semibold text-zest-500 transition-colors hover:bg-gray-100"
          >
            R√©server ma consultation gratuite
          </button>
          <a
            href="#formules"
            class="inline-block rounded-lg border-2 border-white px-8 py-4 text-lg font-semibold text-white transition-colors hover:bg-white hover:text-zest-500"
          >
            Voir les formules
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <CRMBenefits />

  <!-- M√©tiers Section -->
  <MetiersCarousel />

  <!-- Pricing Section -->
  <section id="formules" class="bg-white py-20">
    <div class="mx-auto max-w-6xl px-4 sm:px-6">
      <div class="mb-16 text-center">
        <h2 class="mb-6 text-4xl font-bold text-gray-900 lg:text-5xl">Choisissez votre formule</h2>
        <p class="text-xl text-gray-600">Une solution adapt√©e √† vos besoins</p>
      </div>

      <div class="mx-auto grid max-w-4xl gap-8 md:grid-cols-2">
        <!-- DIY -->
        <div class="rounded-2xl border-2 border-gray-100 bg-white p-8">
          <div class="mb-8 text-center">
            <h3 class="mb-2 text-2xl font-bold">Formation DIY</h3>
            <div class="mb-2 text-4xl font-bold text-zest-500">497‚Ç¨</div>
            <div class="text-gray-600">une fois, pas d'abonnement</div>
          </div>

          <ul class="mb-8 space-y-4">
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-green-100">
                <span class="text-xs font-bold text-green-600">‚úì</span>
              </div>
              <span>Formation compl√®te</span>
            </li>
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-green-100">
                <span class="text-xs font-bold text-green-600">‚úì</span>
              </div>
              <span>Support 30 jours</span>
            </li>
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-green-100">
                <span class="text-xs font-bold text-green-600">‚úì</span>
              </div>
              <span>Acc√®s √† vie</span>
            </li>
          </ul>

          <div class="mt-8">
            <StripeCheckout
              priceId="price_1QeXZQJZvIqXqXqXqXqXqXqX"
              buttonText="Commencer maintenant"
              planName="Formation DIY"
              price={497}
              features={[
                'Acc√®s √† toutes les formations',
                'Support communautaire',
                'Mises √† jour gratuites',
                'Acc√®s √† vie',
              ]}
            />
          </div>
        </div>

        <!-- Done For You -->
        <div class="relative rounded-2xl bg-zest-500 p-8 text-white">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2 transform">
            <span class="rounded-full bg-white px-4 py-1 text-sm font-semibold text-zest-500">
              Populaire
            </span>
          </div>

          <div class="mb-8 text-center">
            <h3 class="mb-2 text-2xl font-bold">Pack pro</h3>
            <div class="mb-2 text-4xl font-bold">690‚Ç¨</div>
            <div class="text-zest-100">une fois, pas d'abonnement</div>
          </div>

          <ul class="mb-8 space-y-4">
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-white/20">
                <span class="text-xs font-bold text-white">‚úì</span>
              </div>
              <span>Setup complet pour vous</span>
            </li>
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-white/20">
                <span class="text-xs font-bold text-white">‚úì</span>
              </div>
              <span>Import donn√©es existantes</span>
            </li>
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-white/20">
                <span class="text-xs font-bold text-white">‚úì</span>
              </div>
              <span>Formation prise en main 2h</span>
            </li>
            <li class="flex items-center space-x-3">
              <div class="flex h-5 w-5 items-center justify-center rounded-full bg-white/20">
                <span class="text-xs font-bold text-white">‚úì</span>
              </div>
              <span>Support 6 mois</span>
            </li>
          </ul>

          <button
            onclick="bookMeeting()"
            class="w-full rounded-lg bg-white py-3 font-semibold text-zest-500 transition-colors hover:bg-gray-100"
          >
            Faites-le pour moi
          </button>
        </div>
      </div>

      <!-- Guarantee -->
      <div class="mt-16 text-center">
        <div class="inline-flex items-center space-x-2 rounded-full bg-green-50 px-6 py-3">
          <span class="font-bold text-green-600">üõ°Ô∏è</span>
          <span class="font-semibold text-green-800"
            >Garantie "Op√©rationnel ou Rembours√©" 30 jours</span
          >
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <FAQ />

  <!-- CTA Final -->
  <section class="bg-zest-500 py-20 lg:py-32">
    <div class="mx-auto max-w-4xl px-4 text-center sm:px-6">
      <h2 class="mb-8 text-4xl font-bold text-white lg:text-5xl">
        Vous √™tes pr√™t √† cr√©er votre CRM ?
      </h2>

      <p class="mb-12 text-xl text-zest-100">Economiser et gagner en productivit√©</p>

      <div class="flex flex-col justify-center gap-4 sm:flex-row">
        <button
          onclick="bookMeeting()"
          class="rounded-lg bg-white px-8 py-4 text-lg font-semibold text-zest-500 transition-colors hover:bg-gray-100"
        >
          R√©server ma consultation gratuite
        </button>
        <a
          href="/calculateur"
          class="inline-block rounded-lg border-2 border-white px-8 py-4 text-lg font-semibold text-white transition-colors hover:bg-white hover:text-zest-500"
        >
          Calculer mes √©conomies
        </a>
      </div>

      <p class="mt-8 text-sm text-zest-100">
        ‚úì Sans engagement ‚Ä¢ ‚úì Consultation 30 min ‚Ä¢ ‚úì Economie
      </p>
    </div>
  </section>
</Layout>

<script>
  function bookMeeting() {
    // Redirection vers Calendly ou autre syst√®me de rendez-vous
    window.location.href = 'https://calendly.com/votre-lien';
  }
</script>
